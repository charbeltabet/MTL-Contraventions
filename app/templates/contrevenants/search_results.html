{% extends "base.html" %}
{% block content %}
  <p>
    Resultats de la recherche des contrataventions pour:
      <ul>
          {% if request.args.get('owner') %}
            <li>
                Propriétaire: {{ request.args.get('owner') }}
            </li>
          {% endif %}
          {% if request.args.get('establishment') %}
            <li>
                Établissement: {{ request.args.get('establishment') }}
            </li>
          {% endif %}
          {% if request.args.get('address') %}
            <li>
                Adresse: {{ request.args.get('address') }}
            </li>
          {% endif %}
      </ul>
  </p>
  <div>
    {% if violations %}
      <table class="table table-striped">
        <thead>
          <tr>
            <th>ID</th>
            <th>ID Entreprise</th>
            <th>Catégorie</th>
            <th>Description</th>
            <th>Adresse</th>
            <th>Ville</th>
            <th>Établissement</th>
            <th>Propriétaire</th>
            <th>Montant</th>
            <th>Date</th>
            <th>Date de Jugement</th>
            <th>Statut</th>
            <th>Date de Statut</th>
          </tr>
        </thead>
        <tbody>
          {% for violation in violations %}
            <tr>
              <td>{{ violation.remote_id }}</td>
              <td>{{ violation.business_id }}</td>
              <td>{{ violation.category }}</td>
              <td>{{ violation.description }}</td>
              <td>{{ violation.address }}</td>
              <td>{{ violation.city }}</td>
              <td>{{ violation.establishment }}</td>
              <td>{{ violation.owner }}</td>
              <td>{{ violation.amount }}</td>
              <td>{{ violation.date }}</td>
              <td>{{ violation.judgement_date }}</td>
              <td>{{ violation.status }}</td>
              <td>{{ violation.status_date }}</td>
            </tr>
          {% endfor %}
        </tbody>
      </table>
    {% endif %}
  </div>
{% endblock %}
